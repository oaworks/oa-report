{# Insights section #}
{% from "partials/report/section-wrapper.njk" import sectionWrapper %}

{% call sectionWrapper("insights", "Insights") %}

  {# Loading spinning icon #}
  <div class="relative">
    <div class="hidden" id="insights_loading">
      <div class="loader ease-linear rounded-full border-8 border-t-8 border-carnation-200 border-t-carnation-500 h-12 w-12 absolute mt-6 mx-auto inset-x-0 z-10 bg-opacity-50 justify-center items-center"></div>
    </div>
  </div>

  <div id="insights_sections" class="mt-6 grid grid-cols-1 gap-8 md:gap-10">
    {# ARTICLE INSIGHTS #}
    <article class="bg-neutral-800 border border-neutral-700 shadow-lg rounded-lg p-4 md:p-6 hidden js_insights_section" id="insights_articles">
      <h3 class="mb-3 text-base md:text-lg font-semibold uppercase tracking-wide text-neutral-100">Journal articles</h3>
      <div class="js_insights_card_grid" id="insights_articles_cards"></div>
    </article>

    {# PREPRINT INSIGHTS â€” SEPARATED FOR GATES ONLY #}
    <article class="bg-neutral-800 border border-neutral-700 shadow-lg rounded-lg p-4 md:p-6 hidden js_insights_section" id="insights_preprints">
      <h3 class="mb-3 text-base md:text-lg font-semibold uppercase tracking-wide text-neutral-100">Preprints</h3>
      <div class="js_insights_card_grid" id="insights_preprints_cards"></div>
    </article>

    {# UNIQUE PUBLICATIONS INSIGHTS #}
    <article class="bg-neutral-800 border border-neutral-700 shadow-lg rounded-lg p-4 md:p-6 hidden js_insights_section" id="insights_unique_publications">
      <h3 class="mb-3 text-base md:text-lg font-semibold uppercase tracking-wide text-neutral-100">Unique publications</h3>
      <div class="js_insights_card_grid" id="insights_unique_publications_cards"></div>
    </article>
  </div>

  <template id="insights_cards_template">
    {# Articles #}
    {{ component("card", {
      id: "is_paper",
      title: "Total",
      icon: "file-text"
    }) }}

    {{ component("card", {
      id: "is_preprint",
      title: "Preprint",
      icon: "edit"
    }) }}

    {{ component("card", {
      id: "is_compliant_article",
      title: "OA policy-compliant",
      icon: "check-circle"
    }) }}

    {{ component("card", {
      id: "is_free_to_read",
      title: "Free-to-read",
      icon: "gift"
    }) }}

    {{ component("card", {
      id: "is_compliant",
      title: "OA policy-compliant",
      icon: "check-circle"
    }) }}

    {{ component("card", {
      id: "is_oa",
      title: "Open Access",
      icon: "unlock"
    }) }}

    {{ component("card", {
      id: "has_data_availability_statement",
      title: "Data availability statements",
      icon: "search"
    }) }}

    {{ component("card", {
      id: "has_open_data",
      title: "With Open Data",
      icon: "database"
    }) }}

    {{ component("card", {
      id: "has_open_code",
      title: "With Open Code",
      icon: "code"
    }) }}

    {# Preprints #}
    {{ component("card", {
      id: "is_compliant_preprint",
      title: "OA policy-compliant",
      icon: "check-circle"
    }) }}

    {{ component("card", {
      id: "has_data_availability_statement_preprint",
      title: "Data availability statements",
      icon: "search"
    }) }}

    {# Unique publications #}
    {{ component("card", {
      id: "is_unique_publication",
      title: "Total",
      icon: "file-text"
    }) }}

    {{ component("card", {
      id: "is_compliant_publication",
      title: "OA policy-compliant",
      icon: "check-circle"
    }) }}
  </template>
{% endcall %}
