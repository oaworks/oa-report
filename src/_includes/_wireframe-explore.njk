{# Data Explore section: _wireframe-explore.njk #}

<section id="analysis" class="section scroll-mt-16">
  <header class="border-b border-neutral-200 pb-4 mb-4">
    <h1 class="text-2xl font-semibold leading-6 text-neutral-900">Analysis</h1>
    <p class="mt-2 max-w-4xl text-sm leading-6 text-neutral-600">Explore the dataset across various categories like Articles, APCs, Preprints, and more. The <em>Analysis</em> section is in beta. Weâ€™re working on adding more features. If you have any feedback, please <a href='mailto:joe@oa.works?subject=OA.Report feedback' class='underline underline-offset-2 decoration-1'>get in touch by email</a>.</p>
  </header>

  {# Tabs: Analysis types #}
  {# Pills and Full Rounded Borders #}
  <nav class="flex flex-wrap gap-2 mb-6 text-xs" aria-label="Tabs">
    <button class="flex items-center gap-2 px-4 py-2 bg-carnation-600 text-white font-semibold rounded-full shadow-md transition duration-300 ease-in-out selected" aria-pressed="true" aria-current="page">
      Articles <span class="py-0.5 px-2 bg-neutral-900 text-white rounded-full">50</span>
    </button>
    <button class="flex items-center gap-2 px-4 py-2 bg-neutral-100 text-neutral-700 font-semibold rounded-full hover:bg-neutral-200 shadow-sm transition duration-300 ease-in-out" aria-pressed="false">
      Articles with APCs <span class="py-0.5 px-2 bg-neutral-300 text-neutral-800 rounded-full">15</span>
    </button>
    <button class="flex items-center gap-2 px-4 py-2 bg-neutral-100 text-neutral-700 font-semibold rounded-full hover:bg-neutral-200 shadow-sm transition duration-300 ease-in-out" aria-pressed="false">
      Preprints <span class="py-0.5 px-2 bg-neutral-300 text-neutral-800 rounded-full">8</span>
    </button>
    <button class="flex items-center gap-2 px-4 py-2 bg-neutral-100 text-neutral-700 font-semibold rounded-full hover:bg-neutral-200 shadow-sm transition duration-300 ease-in-out" aria-pressed="false">
      Grants <span class="py-0.5 px-2 bg-neutral-300 text-neutral-800 rounded-full">12</span>
    </button>
  </nav>

  {# Tabs: Analysis types #}
  {# Background, Pills and Rounded Borders  #}
  <nav class="flex flex-wrap gap-2 bg-neutral-100 p-2 rounded-lg shadow-sm mb-6 text-xs" aria-label="Tabs">
    <button class="flex items-center gap-2 px-4 py-2 bg-white text-carnation-600 font-semibold rounded-lg shadow-sm transition duration-300 ease-in-out selected" aria-pressed="true" aria-current="page">
      Articles <span class="py-0.5 px-2 bg-carnation-600 text-carnation-100 rounded-full">50</span>
    </button>
    <button class="flex items-center gap-2 px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-white hover:shadow-sm transition duration-300 ease-in-out" aria-pressed="false">
      Articles with APCs <span class="py-0.5 px-2 bg-neutral-200 text-neutral-800 rounded-full">15</span>
    </button>
    <button class="flex items-center gap-2 px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-white hover:shadow-sm transition duration-300 ease-in-out" aria-pressed="false">
      Preprints <span class="py-0.5 px-2 bg-neutral-200 text-neutral-800 rounded-full">8</span>
    </button>
    <button class="flex items-center gap-2 px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-white hover:shadow-sm transition duration-300 ease-in-out" aria-pressed="false">
      Grants <span class="py-0.5 px-2 bg-neutral-200 text-neutral-800 rounded-full">12</span>
    </button>
  </nav>

  {# Tabs: Analysis types #}
  {# No Pills with Number Badges #}
  <nav class="flex flex-wrap space-x-4 mb-6" aria-label="Tabs">
    <button class="rounded-md bg-carnation-100 px-3 py-2 text-sm font-semibold text-carnation-600" aria-pressed="true" aria-current="page">
      Articles
      <span class="ml-3 rounded-full bg-carnation-300 px-2.5 py-0.5 text-xs font-medium text-neutral-900">50</span>
    </button>
    <button class="rounded-md px-3 py-2 text-sm font-medium text-neutral-500 hover:text-neutral-700" aria-pressed="false">
      Articles with APCs
      <span class="ml-3 rounded-full bg-neutral-200 px-2.5 py-0.5 text-xs font-medium text-neutral-800">15</span>
    </button>
    <button class="rounded-md px-3 py-2 text-sm font-medium text-neutral-500 hover:text-neutral-700" aria-pressed="false">
      Preprints
      <span class="ml-3 rounded-full bg-neutral-200 px-2.5 py-0.5 text-xs font-medium text-neutral-800">8</span>
    </button>
    <button class="rounded-md px-3 py-2 text-sm font-medium text-neutral-500 hover:text-neutral-700" aria-pressed="false">
      Grants
      <span class="ml-3 rounded-full bg-neutral-200 px-2.5 py-0.5 text-xs font-medium text-neutral-800">12</span>
    </button>
  </nav>

  {# Tabs: Analysis types #}
  {# Underline and Number Badges #}
  <div class="border-b border-neutral-200 mb-6">
    <nav class="flex flex-wrap space-x-8 text-xs" aria-label="Tabs">
      <button class="border-b-2 border-carnation-500 px-1 py-3 text-sm font-medium text-carnation-600" aria-pressed="true" aria-current="page">
        Articles
        <span class="ml-3 rounded-full bg-carnation-700 px-2.5 py-0.5 text-xs font-medium text-neutral-100">50</span>
      </button>
      <button class="border-b-2 border-transparent px-1 py-3 text-sm font-medium text-neutral-500 hover:border-neutral-300 hover:text-neutral-700" aria-pressed="false">
        Articles with APCs
        <span class="ml-3 rounded-full bg-neutral-100 px-2.5 py-0.5 text-xs font-medium text-neutral-800">15</span>
      </button>
      <button class="border-b-2 border-transparent px-1 py-3 text-sm font-medium text-neutral-500 hover:border-neutral-300 hover:text-neutral-700" aria-pressed="false">
        Preprints
        <span class="ml-3 rounded-full bg-neutral-100 px-2.5 py-0.5 text-xs font-medium text-neutral-800">8</span>
      </button>
      <button class="border-b-2 border-transparent px-1 py-3 text-sm font-medium text-neutral-500 hover:border-neutral-300 hover:text-neutral-700" aria-pressed="false">
        Grants
        <span class="ml-3 rounded-full bg-neutral-100 px-2.5 py-0.5 text-xs font-medium text-neutral-800">12</span>
      </button>
    </nav>
  </div>

  {# Tab title: contextual description #}
  <header class="border-b border-neutral-200 pb-4 mb-4">
    <h3 class="text-base font-semibold leading-6 text-neutral-800">Articles</h3>
    <p class="mt-2 max-w-4xl text-sm leading-6 text-neutral-600">
      This table is a preview of the <strong class="explore_type lowercase">Articles</strong> records sorted by <strong class="explore_sort">published date</strong>
    </p>
  </header>

  <div class="mb-8">
    <div class="gap-3 md:gap-12 flex justify-between">
      <form class="w-auto">
        <fieldset id="explore_records_shown_field">
          <legend class="mb-4 text-xs font-semibold uppercase"><span id="explore_articles_records_shown_help" class="tooltip" role="tooltip" tabindex="0" data-tippy-theme="tooltip-pink" data-tippy-placement="right" data-tippy-content="You can view up to 500 records here. To see all of them, use the <em>Get this dataset in CSV</em> form below." aria-expanded="false" style="display: block;">Records shown </span><span id="explore_terms_records_shown_help" class="tooltip" role="tooltip" tabindex="0" data-tippy-theme="tooltip-pink" data-tippy-placement="right" data-tippy-content="You can view up to 500 records here." aria-expanded="false" style="display: none;">Records shown</span></legend>
          <div class="bg-white hover:bg-carnation-100 focus:outline-none border border-neutral-300 p-2 flex items-center space-x-3 font-medium text-sm w-full text-left relative">
            {% icon_small "list" %}
            <select id="year-select" aria-label="Select a year" class="appearance-none bg-transparent focus:outline-none w-full pr-6">
              <option value="5">5</option>
              <option value="10">10</option>
              <option value="20">20</option>
              <option value="50">50</option>
              <option value="100">100</option>
              <option value="500">500</option>
            </select>
            <!-- Custom caret for the dropdown -->
            <div class="absolute inset-y-0 right-2 flex items-center pointer-events-none">
              {% icon_small "chevron-down" %}
            </div>
          </div>
        </fieldset>
      </form>
      <form class="w-auto">
        <fieldset id="explore_filter_field">
          <legend class="mb-4 text-xs font-semibold uppercase">Filter by</legend>
          <div class="flex flex-wrap items-center" id="explore_filters">
            <div class="flex items-center mr-3 md:mr-6 mb-3" aria-expanded="false" aria-controls="is_paper_info" aria-labelledby="is_paper_info"><input type="radio" id="filter_is_paper" class="mr-1" name="filter_by" value="is_paper"><label for="filter_is_paper" class="text-xs md:text-base cursor-pointer flex items-center whitespace-nowrap"><span>All articles</span></label></div>
            <div class="flex items-center mr-3 md:mr-6 mb-3" aria-expanded="false" aria-controls="is_authored_info" aria-labelledby="is_authored_info"><input type="radio" id="filter_is_authored" class="mr-1" name="filter_by" value="is_authored"><label for="filter_is_authored" class="text-xs md:text-base cursor-pointer flex items-center whitespace-nowrap"><span>Authored</span></label></div>
            <div class="flex items-center mr-3 md:mr-6 mb-3" aria-expanded="false" aria-controls="is_original_research_info" aria-labelledby="is_original_research_info"><input type="radio" id="filter_is_original_research" class="mr-1" name="filter_by" value="is_original_research"><label for="filter_is_original_research" class="text-xs md:text-base cursor-pointer flex items-center whitespace-nowrap"><span>Original research</span></label></div>
            <div class="flex items-center mr-3 md:mr-6 mb-3" aria-expanded="false" aria-controls="is_authored_and_is_original_research_info" aria-labelledby="is_authored_and_is_original_research_info"><input type="radio" id="filter_is_authored_and_is_original_research" class="mr-1" name="filter_by" value="is_authored_and_is_original_research"><label for="filter_is_authored_and_is_original_research" class="text-xs md:text-base cursor-pointer flex items-center whitespace-nowrap"><span>Authored original research</span></label></div>
          </div>
        </fieldset>
      </form>
    </div>
  </div>

  <div class="mb-8 overflow-x-auto">
    <table class="min-w-full text-sm text-left text-neutral-800 border-collapse">
      <thead class="bg-neutral-800 text-white">
        <tr>
          <th class="px-6 py-3">Date</th>
          <th class="px-6 py-3">Publication</th>
          <th class="px-6 py-3">Journal</th>
          <th class="px-6 py-3">Author</th>
          <th class="px-6 py-3">APC</th>
          <th class="px-6 py-3">Open Access</th>
        </tr>
      </thead>
      <tbody class="text-neutral-800">
        <tr class="bg-white hover:bg-neutral-50 transition-all border-t border-neutral-400">
          <td class="px-6 py-4">15 Jul 2024</td>
          <td class="px-6 py-4">Monosaccharide Effects on Gut Microbiome</td>
          <td class="px-6 py-4">Nature Microbiology</td>
          <td class="px-6 py-4">Dr. Smith</td>
          <td class="px-6 py-4">Â£1,500</td>
          <td class="px-6 py-4">Yes</td>
        </tr>
        <tr class="bg-white hover:bg-neutral-50 transition-all border-t border-neutral-400">
          <td class="px-6 py-4">22 Aug 2024</td>
          <td class="px-6 py-4">Protein Structure Impact on Cancer Therapy</td>
          <td class="px-6 py-4">Cell Biology</td>
          <td class="px-6 py-4">Dr. Taylor</td>
          <td class="px-6 py-4">Â£2,000</td>
          <td class="px-6 py-4">No</td>
        </tr>
      </tbody>
    </table>
  </div>

  {# CSV download form #}
  <div class="flex flex-col items-start">
    <h2 class="mb-2 text-sm font-semibold uppercase">Get this dataset in CSV</h2>
    <p class="text-sm text-neutral-600 mb-4">
      Download the list of 
      <span class="font-medium">articles</span> for 
      <span class="font-medium">1 Jan 2024 â€” 5 Oct 2024</span>.
    </p>

    <div class="flex items-center">
      <form id="form_email_articles" onsubmit="return window.getExportLink()" class="flex">
        <label for="email" class="sr-only">Email address</label>
        <div class="relative flex items-center">
          <div class="absolute left-2">
            {% icon_small "mail" %}
          </div>
          <input type="email" id="email-email_articles" class="w-full pl-10 py-2 text-sm border border-neutral-300 focus:ring-carnation-300 focus:border-carnation-500" placeholder="you@example.com" required style="border-radius: 0;">
        </div>
        <button type="submit" class="px-4 py-2 text-sm font-medium bg-neutral-800 text-white hover:bg-neutral-600" style="border-radius: 0;">Get CSV</button>
      </form>
    </div>
  </div>
</section>
